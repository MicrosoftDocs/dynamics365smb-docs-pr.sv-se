---
title: Anslut till Microsoft Dataverse
description: Du kan integrera andra appar med Business Central via Microsoft Dataverse. Den här artikeln innehåller tips och trick för hur du konfigurerar anslutningarna.
author: bholtorf
ms.service: dynamics365-business-central
ms.topic: conceptual
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: ''
ms.date: 04/26/2021
ms.author: bholtorf
ms.openlocfilehash: ebe708efacbaa03d5f10deb7b21b090222f28818
ms.sourcegitcommit: 61e279b253370cdf87b7bc1ee0f927e4f0521344
ms.translationtype: HT
ms.contentlocale: sv-SE
ms.lasthandoff: 05/19/2021
ms.locfileid: "6063483"
---
# <a name="connect-to-microsoft-dataverse"></a><span data-ttu-id="8c8b4-104">Anslut till Microsoft Dataverse</span><span class="sxs-lookup"><span data-stu-id="8c8b4-104">Connect to Microsoft Dataverse</span></span>

[!INCLUDE[prod_short](includes/cc_data_platform_banner.md)]

<span data-ttu-id="8c8b4-105">I det här avsnittet beskrivs hur du upprättar en anslutning mellan [!INCLUDE[prod_short](includes/prod_short.md)] och [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8c8b4-105">This topic describes how to set up a connection between [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span> <span data-ttu-id="8c8b4-106">Vanligtvis skapar företag anslutningen för att integrera och synkronisera data med en annan Dynamics 365-affärsapp, till exempel [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8c8b4-106">Typically, businesses create the connection to integrate and synchronize data with another Dynamics 365 business app, such as [!INCLUDE[crm_md](includes/crm_md.md)].</span></span>  

## <a name="before-you-start"></a><span data-ttu-id="8c8b4-107">Innan du börjar</span><span class="sxs-lookup"><span data-stu-id="8c8b4-107">Before You Start</span></span>

<span data-ttu-id="8c8b4-108">Det finns lite information du bör ha tillhanda innan du skapar anslutningen:</span><span class="sxs-lookup"><span data-stu-id="8c8b4-108">There are a few pieces of information to have ready before you create the connection:</span></span>  

* <span data-ttu-id="8c8b4-109">Webbadressen (URL) till den [!INCLUDE[cds_long_md](includes/cds_long_md.md)]-miljö du vill ansluta till.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-109">The URL for the [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment that you want to connect to.</span></span> <span data-ttu-id="8c8b4-110">Om du använder den **assisterade konfigurationsguiden för Dataverse** för att skapa anslutningen kommer vi att upptäcka dina miljöer, men du kan också ange URL:en till en annan miljö i din klientorganisation.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-110">If you use the **Dataverse Connection Setup** assisted setup guide to create the connection we will discover your environments, but you can also enter the URL of another environment in your tenant.</span></span>  
* <span data-ttu-id="8c8b4-111">Användarnamn och lösenord för ett konto som har administratörsbehörigheter i [!INCLUDE[prod_short](includes/prod_short.md)] och [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8c8b4-111">The user name and password of an account that has administrator permissions in [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>  
* <span data-ttu-id="8c8b4-112">Om du har en lokal [!INCLUDE[prod_short](includes/prod_short.md)], 2020 års utgivningscykel 1, version 16.5, läs då artikeln [Vissa kända problem](/dynamics365/business-central/dev-itpro/upgrade/known-issues#wrong-net-assemblies-for-external-connected-services).</span><span class="sxs-lookup"><span data-stu-id="8c8b4-112">If you have an on-premises [!INCLUDE[prod_short](includes/prod_short.md)] 2020 release wave 1, version 16.5, read the [Some Known Issues](/dynamics365/business-central/dev-itpro/upgrade/known-issues#wrong-net-assemblies-for-external-connected-services) article.</span></span> <span data-ttu-id="8c8b4-113">Du måste slutföra den beskrivna lösningen innan du kan skapa anslutningen till [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8c8b4-113">You'll have to complete the described workaround before you can create your connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>
* <span data-ttu-id="8c8b4-114">Företagets lokala valuta i [!INCLUDE[prod_short](includes/prod_short.md)] måste vara samma som bastransaktionsvalutan i [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8c8b4-114">The local currency for the company in [!INCLUDE[prod_short](includes/prod_short.md)] must be the same as the base transaction currency in [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span> <span data-ttu-id="8c8b4-115">När en bastransaktion har angetts i [!INCLUDE[cds_long_md](includes/cds_long_md.md)] kan den inte ändras.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-115">After a base transaction is set in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] it cannot be changed.</span></span> <span data-ttu-id="8c8b4-116">Mer information finns i [entiteten Transaktionsvaluta (valuta)](/powerapps/developer/data-platform/transaction-currency-currency-entity).</span><span class="sxs-lookup"><span data-stu-id="8c8b4-116">For more information, see [Transaction Currency (currency) entity](/powerapps/developer/data-platform/transaction-currency-currency-entity).</span></span> <span data-ttu-id="8c8b4-117">Detta innebär att alla [!INCLUDE[prod_short](includes/prod_short.md)]-företag som du ansluter till en [!INCLUDE[cds_long_md](includes/cds_long_md.md)]-organisation måste använda samma valuta.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-117">This means that all [!INCLUDE[prod_short](includes/prod_short.md)] companies you connect to a [!INCLUDE[cds_long_md](includes/cds_long_md.md)] organization must use the same currency.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="8c8b4-118">Din [!INCLUDE[cds_long_md](includes/cds_long_md.md)]-miljö får inte vara i administrationsläge.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-118">Your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment must not be in Administration mode.</span></span> <span data-ttu-id="8c8b4-119">Administrationsläget gör att anslutningen misslyckas eftersom integreringsanvändarkontot för anslutningen inte har administratörsbehörighet.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-119">Administration mode will cause the connection to fail because the integration user account for the connection does not have administrator permissions.</span></span> <span data-ttu-id="8c8b4-120">Mer information finns i [Administrationsläge](/power-platform/admin/admin-mode).</span><span class="sxs-lookup"><span data-stu-id="8c8b4-120">For more information, see [Administration mode](/power-platform/admin/admin-mode).</span></span>

> [!Note]
> <span data-ttu-id="8c8b4-121">Här beskrivs proceduren för onlineversionen av [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="8c8b4-121">These steps describe the procedure for [!INCLUDE[prod_short](includes/prod_short.md)] online.</span></span>
> <span data-ttu-id="8c8b4-122">Om du använder [!INCLUDE[prod_short](includes/prod_short.md)] lokalt och inte använder Azure Active Directory-kontot för att ansluta till [!INCLUDE [cds_long_md](includes/cds_long_md.md)], måste du också ange användarnamn och lösenord för ett användarkonto för integreringen.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-122">If you are using [!INCLUDE[prod_short](includes/prod_short.md)] on-premises and are not using Azure Active Directory account to connect to [!INCLUDE [cds_long_md](includes/cds_long_md.md)], you must also specify a user name and password of a user account for the integration.</span></span> <span data-ttu-id="8c8b4-123">Detta kontot kallas "integreringsanvändar"-kontot.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-123">This account is referred to as the "integration user" account.</span></span> <span data-ttu-id="8c8b4-124">Om du använder ett Azure Active Directory-konto krävs eller visas inte integrationens användarkonto.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-124">If you are using an Azure Active Directory account the integration user account is not required or displayed.</span></span> <span data-ttu-id="8c8b4-125">Integrationsanvändaren ställs in automatiskt och kräver ingen licens.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-125">The integration user will be set up automatically and does not require a license.</span></span>

## <a name="set-up-a-connection-to-cds_long_md"></a><span data-ttu-id="8c8b4-126">Ställ in en anslutning till [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8c8b4-126">Set Up a Connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)]</span></span>

<span data-ttu-id="8c8b4-127">För alla andra autentiseringstyper än Microsoft 365-autentisering konfigurerar du din anslutning till [!INCLUDE[cds_long_md](includes/cds_long_md.md)] på sidan **Konfiguration av anslutning till Dataverse**.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-127">For all authentication types other than Microsoft 365 authentication, you set up your connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] on the **Dataverse Connection Setup** page.</span></span> <span data-ttu-id="8c8b4-128">För Microsoft 365-autentisering rekommenderar vi att du använder den assisterade konfigurationsguiden **Konfiguration av anslutning till Dataverse**.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-128">For Microsoft 365 authentication, we recommend that you use the **Dataverse Connection Setup** assisted setup guide.</span></span> <span data-ttu-id="8c8b4-129">Guiden gör det enklare att konfigurera anslutningen och specificera avancerade funktioner, till exempel ägarskapsmodell och initial synkronisering.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-129">The guide makes it easier to set up the connection and specify advanced features, such as the ownership model and initial synchronization.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="8c8b4-130">Under installationen av anslutningen till [!INCLUDE[cds_long_md](includes/cds_long_md.md)] ombeds administratören att ge följande behörigheter till en registrerad Azure-tillämpning kallad [!INCLUDE[prod_short](includes/prod_short.md)]-integration för [!INCLUDE[cds_long_md](includes/cds_long_md.md)]:</span><span class="sxs-lookup"><span data-stu-id="8c8b4-130">During the setup of the connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], the administrator will be asked to give following permissions to a registered Azure application named [!INCLUDE[prod_short](includes/prod_short.md)] Integration to [!INCLUDE[cds_long_md](includes/cds_long_md.md)]:</span></span>
>
> * <span data-ttu-id="8c8b4-131">Behörigheten **Öppna [!INCLUDE[cds_long_md](includes/cds_long_md.md)] som dig själv** krävs, varför [!INCLUDE[prod_short](includes/prod_short.md)] för administratörens räkning automatiskt kan skapa icke-interaktiva, icke-licensierade [!INCLUDE[prod_short](includes/prod_short.md)]-integrationsprogramanvändare, tilldela användaren säkerhetsroller samt distribuera [!INCLUDE[prod_short](includes/prod_short.md)]-integreringslösningen till [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8c8b4-131">**Access [!INCLUDE[cds_long_md](includes/cds_long_md.md)] as you** permission is needed so [!INCLUDE[prod_short](includes/prod_short.md)] can, on behalf of administrator, automatically create non-licensed non-interactive [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user, assign security roles to this user and to deploy [!INCLUDE[prod_short](includes/prod_short.md)] Integration Solution to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span> <span data-ttu-id="8c8b4-132">Den här behörigheten används endast en gång vid upprättandet av anslutning till [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8c8b4-132">This permission is used only once during set up of connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>  
> * <span data-ttu-id="8c8b4-133">**Ha fullständig åtkomst till Dynamics 365 [!INCLUDE[prod_short](includes/prod_short.md)]** behörighet krävs så att automatiskt skapade [!INCLUDE[prod_short](includes/prod_short.md)] integrationsprogramanvändare kan komma åt [!INCLUDE[prod_short](includes/prod_short.md)] data som ska synkroniseras.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-133">**Have full access to Dynamics 365 [!INCLUDE[prod_short](includes/prod_short.md)]** permission is needed so automatically created [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user can access [!INCLUDE[prod_short](includes/prod_short.md)] data that will be synchronized.</span></span>  
> * <span data-ttu-id="8c8b4-134">**Logga in och läsa din profil** behörighet krävs för att verifiera användarloggning i själva verket har säkerhetsrollen systemadministratör tilldelad i [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8c8b4-134">**Sign in and read your profile** permission is needed to verify user logging in actually has System Administrator security role assigned in [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>  
>
> <span data-ttu-id="8c8b4-135">Genom att ge tillstånd till organisationen, är det administratören som omnämns det registrerade Azure-programmet som kallas [!INCLUDE[prod_short](includes/prod_short.md)] integration för [!INCLUDE[cds_long_md](includes/cds_long_md.md)] att synkronisera data med hjälp av automatiskt skapade [!INCLUDE[prod_short](includes/prod_short.md)] användarensreferenser för integrationsprogram.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-135">By giving consent on behalf of organization, the administrator is entitling the registered Azure application called [!INCLUDE[prod_short](includes/prod_short.md)] Integration to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] to synchronize data using automatically created [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user's credentials.</span></span>

### <a name="to-use-the-dataverse-connection-setup-assisted-setup-guide"></a><span data-ttu-id="8c8b4-136">Så här använder du den assisterade guiden Konfiguration av anslutning till Dataverse</span><span class="sxs-lookup"><span data-stu-id="8c8b4-136">To use the Dataverse Connection Setup assisted setup guide</span></span>
<span data-ttu-id="8c8b4-137">Guiden Konfiguration av anslutning till Dataverse kan göra det enklare att ansluta programmen, och kan till och med hjälpa dig att köra en första synkronisering.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-137">The Dataverse Connection Setup guide can make it easier to connect the applications, and can even help you run an initial synchronization.</span></span> <span data-ttu-id="8c8b4-138">Om du väljer att köra inledande synkronisering kommer [!INCLUDE[prod_short](includes/prod_short.md)] att granska data i båda program rekommendationer för hur man tar sig an en inledande synkronisering.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-138">If you choose to run initial synchronization, [!INCLUDE[prod_short](includes/prod_short.md)] will review the data in both applications and provide recommendations for how to approach initial synchronization.</span></span> <span data-ttu-id="8c8b4-139">Rekommendationerna beskrivs i tabellen nedan.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-139">The following table describes the recommendations.</span></span>

|<span data-ttu-id="8c8b4-140">Rekommendation</span><span class="sxs-lookup"><span data-stu-id="8c8b4-140">Recommendation</span></span>  |<span data-ttu-id="8c8b4-141">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="8c8b4-141">Description</span></span>  |
|---------|---------|
|<span data-ttu-id="8c8b4-142">**Fullständig synkronisering**</span><span class="sxs-lookup"><span data-stu-id="8c8b4-142">**Full synchronization**</span></span>|<span data-ttu-id="8c8b4-143">Data finns bara i [!INCLUDE[prod_short](includes/prod_short.md)], eller bara i [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8c8b4-143">Data exists only in [!INCLUDE[prod_short](includes/prod_short.md)], or only in [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span> <span data-ttu-id="8c8b4-144">Rekommendationen är att synkronisera alla data från tjänsten som har den till den andra tjänsten.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-144">The recommendation is to synchronize all data from the service that has it to the other service.</span></span>|
|<span data-ttu-id="8c8b4-145">**Ingen synkronisering**</span><span class="sxs-lookup"><span data-stu-id="8c8b4-145">**No synchronization**</span></span>|<span data-ttu-id="8c8b4-146">Data finns i båda programmen, och att köra en fullständig synkronisering skulle duplicera datan.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-146">Data exists in both applications, and running full synchronization would duplicate the data.</span></span> <span data-ttu-id="8c8b4-147">Rekommendationen är att koppla poster.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-147">The recommendation is to couple records.</span></span>|
|<span data-ttu-id="8c8b4-148">**Beroendet inte uppfyllt**</span><span class="sxs-lookup"><span data-stu-id="8c8b4-148">**Dependency not satisfied**</span></span>|<span data-ttu-id="8c8b4-149">Data finns i båda programmen, men det går inte att synkronisera raden eller tabellen eftersom dessa är beroende av en rad eller en tabell som har rekommendationen Ingen synkronisering.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-149">Data exists in both applications, but the row or table cannot be synchronized because it depends on a row or table that has the No synchronization recommendation.</span></span> <span data-ttu-id="8c8b4-150">Om kunder exempelvis inte kan synkroniseras kan data för kontakter som är beroende av kunddatan inte heller synkroniseras.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-150">For example, if customers cannot be synchronized, then data for contacts that depends on the customer data cannot be synchronized either.</span></span>|

> [!IMPORTANT]
> <span data-ttu-id="8c8b4-151">Vanligtvis använder du bara fullständig synkronisering när du integrerar programmen för första gången, och endast ett program innehåller data.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-151">Typically, you only use full synchronization when you're integrating the applications for the first time, and only one application contains data.</span></span> <span data-ttu-id="8c8b4-152">Fullständig synkronisering kan vara användbar i en demonstrationsmiljö eftersom den automatiskt skapar och kopplar poster i respektive program, vilket gör det möjligt att snabbare börja arbeta med synkroniserade data.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-152">Full synchronization can be useful in a demonstration environment because it automatically creates and couples records in each application, which makes it faster to start working with synchronized data.</span></span> <span data-ttu-id="8c8b4-153">Du bör dock bara köra fullständig synkronisering om du vill ha en rad i [!INCLUDE[prod_short](includes/prod_short.md)] för respektive rad i [!INCLUDE[cds_long_md](includes/cds_long_md.md)] för registermappningarna.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-153">However, you should only run full synchronization if you want one row in [!INCLUDE[prod_short](includes/prod_short.md)] for each row in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] for the table mappings.</span></span> <span data-ttu-id="8c8b4-154">Annars kan resultatet bli dubblettposter.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-154">Otherwise, the result can be duplicate records.</span></span>

1. <span data-ttu-id="8c8b4-155">Välj ikonen ![Glödlampa som öppnar funktionen Berätta](media/ui-search/search_small.png "Berätta vad du vill göra"), ange **Assisterad konfiguration** och välj sedan relaterad länk.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-155">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assisted Setup**, and then choose the related link.</span></span>
2. <span data-ttu-id="8c8b4-156">Välj **Skapa en anslutning till Microsoft Dataverse** för att starta den assisterade konfigurationsguiden.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-156">Choose **Set up a connection to Microsoft Dataverse** to start the assisted setup guide.</span></span>
3. <span data-ttu-id="8c8b4-157">Fyll i fälten om det behövs.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-157">Fill in the fields as necessary.</span></span>

> [!NOTE]
> <span data-ttu-id="8c8b4-158">Om du inte uppmanas att logga in med ditt administratörskonto beror det förmodligen på att popup-fönster blockeras.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-158">If you are not prompted to sign in with your administrator account, it is probably because pop-ups are blocked.</span></span> <span data-ttu-id="8c8b4-159">Du kan logga in med popup-fönster från `https://login.microsoftonline.com`.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-159">To sign in, allow pop-ups from `https://login.microsoftonline.com`.</span></span>

### <a name="to-create-or-maintain-the-connection-manually"></a><span data-ttu-id="8c8b4-160">Om du vill skapa eller hantera anslutningen manuellt</span><span class="sxs-lookup"><span data-stu-id="8c8b4-160">To create or maintain the connection manually</span></span>

<span data-ttu-id="8c8b4-161">I följande procedur beskrivs hur du konfigurerar anslutningen manuellt på sidan **Konfiguration av anslutning till Dataverse**.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-161">The following procedure describes how to set up the connection manually on the **Dataverse Connection Setup** page.</span></span> <span data-ttu-id="8c8b4-162">Detta är sidan där du hanterar inställningar för integrering.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-162">This is also the page where you manage settings for the integration.</span></span>

1. <span data-ttu-id="8c8b4-163">Välj ikonen ![Glödlampa som öppnar funktionen Berätta](media/ui-search/search_small.png "Berätta vad du vill göra"), ange **Anslutningsinställningar för Dataverse** och välj sedan tillhörande länk.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-163">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Dataverse Connection Setup**, and then choose the related link.</span></span>
2. <span data-ttu-id="8c8b4-164">Ange följande information om anslutningen från [!INCLUDE[prod_short](includes/prod_short.md)] till [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8c8b4-164">Enter the following information for the connection from [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>

    |<span data-ttu-id="8c8b4-165">Fält</span><span class="sxs-lookup"><span data-stu-id="8c8b4-165">Field</span></span>|<span data-ttu-id="8c8b4-166">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="8c8b4-166">Description</span></span>|
    |-----|-----|
    |<span data-ttu-id="8c8b4-167">**Miljö-URL**</span><span class="sxs-lookup"><span data-stu-id="8c8b4-167">**Environment URL**</span></span>|<span data-ttu-id="8c8b4-168">Om du äger miljöerna i [!INCLUDE[cds_long_md](includes/cds_long_md.md)] kommer vi att upptäcka dem när du kör installationsguiden.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-168">If you own environments in [!INCLUDE[cds_long_md](includes/cds_long_md.md)], we will find those for you when you run the setup guide.</span></span> <span data-ttu-id="8c8b4-169">Om du vill ansluta till en annan miljö i en annan klientorganisation, kan du ange administratörsbehörighet för miljön så att vi upptäcker dem.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-169">If you want to connect to a different environment in another tenant, you can enter the administrator credentials for the environment and we will discover those.</span></span> |
    |<span data-ttu-id="8c8b4-170">**Aktiv**</span><span class="sxs-lookup"><span data-stu-id="8c8b4-170">**Enabled**</span></span>|<span data-ttu-id="8c8b4-171">Starta använda integreringen</span><span class="sxs-lookup"><span data-stu-id="8c8b4-171">Start using the integration.</span></span> <span data-ttu-id="8c8b4-172">Om du inte aktiverar anslutningen nu sparas anslutningsinställningarna, men användarna kan inte få åtkomst till data i [!INCLUDE[cds_long_md](includes/cds_long_md.md)] från [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="8c8b4-172">If you do not enable the connection now, the connection settings will be saved but users will not be able to access [!INCLUDE[cds_long_md](includes/cds_long_md.md)] data from [!INCLUDE[prod_short](includes/prod_short.md)].</span></span> <span data-ttu-id="8c8b4-173">Du kan gå tillbaka till sidan och aktivera anslutningen senare.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-173">You can return to this page and enable the connection later.</span></span>  |

3. <span data-ttu-id="8c8b4-174">I fältet **Ägarskapsmodlel** väljer du om du vill att en grupptabell i [!INCLUDE[cds_long_md](includes/cds_long_md.md)] ska äga nya transaktioner, eller om en eller flera specifika användare ska göra det.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-174">In the **Ownership Model** field, choose whether you want a team table in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] to own new records, or one or more specific users.</span></span> <span data-ttu-id="8c8b4-175">Om du väljer **Person** måste du ange varje enskild användare.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-175">If you choose **Person**, you must specify each user.</span></span> <span data-ttu-id="8c8b4-176">Om du väljer **Team** visas den förvalda affärsenheten i fältet **Kopplad affärsenhet**.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-176">If you choose **Team**, the default business unit will display in the **Coupled Business Unit** field.</span></span>

    <!--Need to verify the details in this table, are these specific to Sales maybe?  IK: No they are not and no longer relevant 
    Enter the following advanced settings.-->

    <!-- |Field|Description|
    |-----|-----|
    |**[!INCLUDE[prod_short](includes/prod_short.md)] Users Must Map to CDS Users**|If you are using the Person ownership model, specify whether [!INCLUDE[prod_short](includes/prod_short.md)] user accounts must have a matching user accounts in [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. The **Microsoft 365 Authentication Email** of the [!INCLUDE[prod_short](includes/prod_short.md)] user must be the same as the **Primary Email** of the [!INCLUDE[crm_md](includes/crm_md.md)] user.<br /><br /> If you set the value to **Yes**, [!INCLUDE[prod_short](includes/prod_short.md)] users who do not have a matching [!INCLUDE[crm_md](includes/crm_md.md)] user account will not have [!INCLUDE[prod_short](includes/prod_short.md)] integration capabilities in the user interface. Access to [!INCLUDE[crm_md](includes/crm_md.md)] data directly from [!INCLUDE[prod_short](includes/prod_short.md)] is done on behalf of the [!INCLUDE[crm_md](includes/crm_md.md)] user account.<br /><br /> If you set the value to **No**, all [!INCLUDE[prod_short](includes/prod_short.md)] users will have [!INCLUDE[crm_md](includes/crm_md.md)] integration capabilities in the user interface. Access to [!INCLUDE[crm_md](includes/crm_md.md)] data is done on behalf of the [!INCLUDE[crm_md](includes/crm_md.md)] connection (integration) user.|
    |**Current Business Central Salesperson is Mapped to a User**|Indicates whether your user account is mapped to an account in [!INCLUDE[crm_md](includes/crm_md.md)] double check the name of this field-->|
4. <span data-ttu-id="8c8b4-177">Kontrollera anslutningsinställningarna genom att välja **Anslutning** och sedan **Testa anslutning**.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-177">To test the connection settings, choose **Connection**, and then **Test Connection**.</span></span>  

    > [!NOTE]  
    > <span data-ttu-id="8c8b4-178">Om datakrypteringen inte har aktiverats i [!INCLUDE[prod_short](includes/prod_short.md)] kommer du att tillfrågas om du vill aktivera den.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-178">If data encryption is not enabled in [!INCLUDE[prod_short](includes/prod_short.md)], you will be asked whether you want to enable it.</span></span> <span data-ttu-id="8c8b4-179">Välj **Ja** och ange den obligatoriska informationen om du vill aktivera datakryptering.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-179">To enable data encryption, choose **Yes** and provide the required information.</span></span> <span data-ttu-id="8c8b4-180">Annars väljer du **Nej**.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-180">Otherwise, choose **No**.</span></span> <span data-ttu-id="8c8b4-181">Du kan aktivera datakryptering senare.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-181">You can enable data encryption later.</span></span> <span data-ttu-id="8c8b4-182">Mer information finns i [kryptering av data i Dynamics 365 Business Central](/dynamics365/business-central/dev-itpro/developer/devenv-encrypting-data) i Hjälp för utvecklare och administration.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-182">For more information, see [Encrypting Data in Dynamics 365 Business Central](/dynamics365/business-central/dev-itpro/developer/devenv-encrypting-data) in the developer and administration help.</span></span>  
5. <span data-ttu-id="8c8b4-183">Om [!INCLUDE[cds_long_md](includes/cds_long_md.md)]-synkroniseringen inte redan har ställts in får en fråga om du vill använda standardsynkroniseringskonfigurationen.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-183">If [!INCLUDE[cds_long_md](includes/cds_long_md.md)] synchronization is not already set up, you will be asked whether you want to use the default synchronization setup.</span></span> <span data-ttu-id="8c8b4-184">Beroende på om du vill bokföra poster justerade i [!INCLUDE[cds_long_md](includes/cds_long_md.md)] och [!INCLUDE[prod_short](includes/prod_short.md)], välj **Ja** eller **Nej**.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-184">Depending on whether you want to keep records aligned in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] and [!INCLUDE[prod_short](includes/prod_short.md)], choose **Yes** or **No**.</span></span>

<!--
## Show Me the Process

The following video shows the steps to connect [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. <br>
  
> [!VIDEO https://www.microsoft.com/en-us/videoplayer/embed/RE4ArlP]

-->

## <a name="connecting-on-premises-versions"></a><span data-ttu-id="8c8b4-185">Ansluta lokala versioner</span><span class="sxs-lookup"><span data-stu-id="8c8b4-185">Connecting On-Premises Versions</span></span>

<span data-ttu-id="8c8b4-186">Om du vill ansluta [!INCLUDE[prod_short](includes/prod_short.md)] lokalt till [!INCLUDE[cds_long_md](includes/cds_long_md.md)] måste du ange viss information på **Dataverse anslutningsinställningar**.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-186">To connect [!INCLUDE[prod_short](includes/prod_short.md)] on-premises to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], you must specify some information on the **Dataverse Connection Setup** page.</span></span>

<span data-ttu-id="8c8b4-187">Om du vill ansluta med ett Azure Active Directory (Azure AD)-konto måste du registrera ett program i Azure AD och ange program-ID, nyckelvalvhemlighet och URL för omdirigering som ska användas.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-187">If you want to connect using an Azure Active Directory (Azure AD) account, you must register an application in Azure AD, and provide the application ID, key vault secret, and the redirect URL to use.</span></span> <span data-ttu-id="8c8b4-188">URL-adressen för omdirigering fylls i förväg och bör användas för de flesta installationer.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-188">The redirect URL is pre-populated and should work for most installations.</span></span> <span data-ttu-id="8c8b4-189">Du måste ställa in installationen för att använda HTTPS.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-189">You must set up your installation to use HTTPS.</span></span> <span data-ttu-id="8c8b4-190">Mer information finns i [Konfigurera SSL för att skydda anslutningen till Business Central webbklienten](/dynamics365/business-central/dev-itpro/deployment/configure-ssl-web-client-connection).</span><span class="sxs-lookup"><span data-stu-id="8c8b4-190">For more information, see [Configuring SSL to Secure the Business Central Web Client Connection](/dynamics365/business-central/dev-itpro/deployment/configure-ssl-web-client-connection).</span></span> <span data-ttu-id="8c8b4-191">Om du konfigurerar servern så att den har en annan startsida kan du alltid ändra URL-adressen.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-191">If you are setting up your server to have a different home page, you can always change the URL.</span></span> <span data-ttu-id="8c8b4-192">Klientens hemlighet kommer att sparas som en krypterad sträng i databasen.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-192">The client secret will be saved as an encrypted string in your database.</span></span> 

### <a name="prerequisites"></a><span data-ttu-id="8c8b4-193">Förutsättningar</span><span class="sxs-lookup"><span data-stu-id="8c8b4-193">Prerequisites</span></span>

<span data-ttu-id="8c8b4-194">Dataverse måste använda någon av följande autentiseringstyper:</span><span class="sxs-lookup"><span data-stu-id="8c8b4-194">Dataverse must use one of the following authentication types:</span></span>

* <span data-ttu-id="8c8b4-195">Office 365 (äldre)</span><span class="sxs-lookup"><span data-stu-id="8c8b4-195">Office365 (legacy)</span></span>

  > [!IMPORTANT]
  > <span data-ttu-id="8c8b4-196">Från och med april 2022 kommer Office 365 (äldre) inte längre att stödjas.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-196">Effective April 2022, Office365 (legacy) will no longer be supported.</span></span> <span data-ttu-id="8c8b4-197">Mer information finns i [Viktiga ändringar (utfasningar) som kommer i Power Apps, Power Automate och kundengagemangsappar](/power-platform/important-changes-coming#deprecation-of-office365-authentication-type-and-organizationserviceproxy-class-for-connecting-to-dataverse).</span><span class="sxs-lookup"><span data-stu-id="8c8b4-197">For more information, see [Important changes (deprecations) coming in Power Apps, Power Automate and customer engagement apps](/power-platform/important-changes-coming#deprecation-of-office365-authentication-type-and-organizationserviceproxy-class-for-connecting-to-dataverse).</span></span>
* <span data-ttu-id="8c8b4-198">Office365 (modern, OAuth2-klienthemlighetsbaserad)</span><span class="sxs-lookup"><span data-stu-id="8c8b4-198">Office365 (modern, OAuth2 client secret based)</span></span>
* <span data-ttu-id="8c8b4-199">OAuth</span><span class="sxs-lookup"><span data-stu-id="8c8b4-199">OAuth</span></span>

### <a name="to-register-an-application-in-azure-ad-for-connecting-from-business-central-to-dataverse"></a><span data-ttu-id="8c8b4-200">Så här registrerar du ett program i Azure AD för att ansluta från Business Central till Dataverse</span><span class="sxs-lookup"><span data-stu-id="8c8b4-200">To register an application in Azure AD for connecting from Business Central to Dataverse</span></span>

<span data-ttu-id="8c8b4-201">Följande åtgärder förutsätter att du använder Azure AD för att hantera identiteter och åtkomst.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-201">The following steps assume that you use Azure AD to manage identities and access.</span></span> <span data-ttu-id="8c8b4-202">Mer information om hur du registrerar ett program i Azure AD finns i [snabbstart: registrera ett program med Microsoft Identity Platform](/azure/active-directory/develop/quickstart-register-app).</span><span class="sxs-lookup"><span data-stu-id="8c8b4-202">For more information about registering an application in Azure AD, see [Quickstart: Register an application with the Microsoft identity platform](/azure/active-directory/develop/quickstart-register-app).</span></span> 

1. <span data-ttu-id="8c8b4-203">I Azure Portal, under **Hantera** i navigeringsrutan välj **autentisering**.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-203">In the Azure Portal, under **Manage** on the Navigation Pane, choose **Authentication**.</span></span>  
2. <span data-ttu-id="8c8b4-204">Under **omdirigerings-URL**, lägger du till den omdirigerings-URL som föreslås på sidan **Inställningar för Dataverse-anslutning** i [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="8c8b4-204">Under **Redirect URLs**, add the redirect URL that is suggested on the **Dataverse Connection Setup** page in [!INCLUDE[prod_short](includes/prod_short.md)].</span></span>
3. <span data-ttu-id="8c8b4-205">Under **Hantera**, välj **API-behörigheter**.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-205">Under **Manage**, choose **API permissions**.</span></span>
4. <span data-ttu-id="8c8b4-206">Under **konfigurerade behörigheter** väljer du **Lägg till en behörighet** och lägger sedan till delegerade behörigheter på fliken **Microsoft API:er** på följande sätt:</span><span class="sxs-lookup"><span data-stu-id="8c8b4-206">Under **Configured permissions**, choose **Add a permission**, and then add delegated permissions on the **Microsoft APIs** tab as follows:</span></span>
    * <span data-ttu-id="8c8b4-207">För Business Central lägger du till **Financials.ReadWrite.All** behörighet.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-207">For Business Central, add the **Financials.ReadWrite.All** permissions.</span></span>
    * <span data-ttu-id="8c8b4-208">För Dynamics CRM lägg till behörigheter **user_impersonation**.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-208">For Dynamics CRM, add the **user_impersonation** permissions.</span></span>  

    > [!NOTE]
    > <span data-ttu-id="8c8b4-209">Namnet på Dynamics CRM API kan ändras.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-209">The name of the Dynamics CRM API might change.</span></span>

5. <span data-ttu-id="8c8b4-210">Under **Hantera**, välj **Certifikat och hemligheter** och skapa sedan en ny hemlighet för ditt program.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-210">Under **Manage**, choose **Certificates & Secrets**, and then create a new secret for your app.</span></span> <span data-ttu-id="8c8b4-211">Du kommer att använda hemligheten i [!INCLUDE[prod_short](includes/prod_short.md)] i fältet **klienthemlighet** på sidan **inställningar för Dataverse-anslutning**, eller lagra i en skyddad lagringsenhet och tillhandahålla den i en händelseprenumerant enligt beskrivningen ovan.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-211">You will use the secret either in [!INCLUDE[prod_short](includes/prod_short.md)], in the **Client Secret** field on the **Dataverse Connection Setup** page, or store in a secure storage and provide it in an event subscriber as described earlier in this topic.</span></span>
6. <span data-ttu-id="8c8b4-212">Välj **Översikt** och leta sedan reda på **App (klient-ID)**-värdet.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-212">Choose **Overview**, and then find the **Application (client) ID** value.</span></span> <span data-ttu-id="8c8b4-213">Det här är klient-ID:t för ditt program.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-213">This is the Client ID of your application.</span></span> <span data-ttu-id="8c8b4-214">Du måste ange den på sidan **inställningar för Dataverse-anslutning** i fältet **klient-ID** eller lagra den på ett säkert lagringsutrymme och tillhandahålla den i en händelseprenumeration.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-214">You must enter it either on the **Dataverse Connection Setup** page in the **Client ID** field, or store it in a secure storage and provide it in an event subscriber.</span></span>
7. <span data-ttu-id="8c8b4-215">I [!INCLUDE[prod_short](includes/prod_short.md)], på sidan **inställningar av Dataverse-anslutning** i fältet **Miljö-URL** anger du URL för din [!INCLUDE[cds_long_md](includes/cds_long_md.md)] miljö.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-215">In [!INCLUDE[prod_short](includes/prod_short.md)], on the **Dataverse Connection Setup** page, in the **Environment URL** field, enter the URL for your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment.</span></span>
8. <span data-ttu-id="8c8b4-216">För att aktivera anslutningen till [!INCLUDE[cds_long_md](includes/cds_long_md.md)], aktivera växlingen **Aktiverad**.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-216">To enable the connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], turn on the **Enabled** toggle.</span></span>
9. <span data-ttu-id="8c8b4-217">Logga in med ditt administratörskonto för Azure Active Directory (det här kontot måste ha en giltig licens för [!INCLUDE[cds_long_md](includes/cds_long_md.md)] och vara administratör i din [!INCLUDE[cds_long_md](includes/cds_long_md.md)] miljö).</span><span class="sxs-lookup"><span data-stu-id="8c8b4-217">Sign in with your administrator account for Azure Active Directory (this account must have a valid license for [!INCLUDE[cds_long_md](includes/cds_long_md.md)] and be an administrator in your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment).</span></span> <span data-ttu-id="8c8b4-218">När du har loggat in kommer du att uppmanas att tillåta att ditt registrerade program loggar in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] på ditt företags vägnar.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-218">After you sign in you will be prompted to allow your registered application to sign in to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] on behalf of the organization.</span></span> <span data-ttu-id="8c8b4-219">Du måste ange ett medgivande för att slutföra installationen.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-219">You must give consent to complete the setup.</span></span>

   > [!NOTE]
   > <span data-ttu-id="8c8b4-220">Om du inte uppmanas att logga in med ditt administratörskonto beror det förmodligen på att popup-fönster blockeras.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-220">If you are not prompted to sign in with your administrator account, it is probably because pop ups are blocked.</span></span> <span data-ttu-id="8c8b4-221">Du kan logga in med popup-fönster från `https://login.microsoftonline.com`.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-221">To sign in, allow pop-ups from `https://login.microsoftonline.com`.</span></span>

### <a name="to-disconnect-from-cds_long_md"></a><span data-ttu-id="8c8b4-222">Koppla bort från [!INCLUDE[cds_long_md](includes/cds_long_md.md)]</span><span class="sxs-lookup"><span data-stu-id="8c8b4-222">To disconnect from [!INCLUDE[cds_long_md](includes/cds_long_md.md)]</span></span>

1. <span data-ttu-id="8c8b4-223">Välj ikonen ![Glödlampa som öppnar funktionen Berätta](media/ui-search/search_small.png "Berätta vad du vill göra"), ange **Anslutningsinställningar för Dataverse** och välj sedan tillhörande länk.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-223">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Dataverse Connection Setup**, and then choose the related link.</span></span>
2. <span data-ttu-id="8c8b4-224">På sidan **Konfiguration av anslutning till Dataverse** stänger du av reglaget **Aktiverad**.</span><span class="sxs-lookup"><span data-stu-id="8c8b4-224">On the **Dataverse Connection Setup** page, turn off the **Enabled** toggle.</span></span>  

## <a name="see-also"></a><span data-ttu-id="8c8b4-225">Se även</span><span class="sxs-lookup"><span data-stu-id="8c8b4-225">See Also</span></span>

[<span data-ttu-id="8c8b4-226">Visa status för en synkronisering</span><span class="sxs-lookup"><span data-stu-id="8c8b4-226">View the Status of a Synchronization</span></span>](admin-how-to-view-synchronization-status.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]